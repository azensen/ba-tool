<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Vertical Consistency Tool v01 - New Project</title>
	<!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>-->
  <style type="text/css">
	
  </style>
</head>
<body>

<div id="newProject">

<h2>New Project AJAX</h2>

<form id="newProjectForm" action="JavaScript:showSerialized()">
<p>Project Name: <input type="text" name="name" /></p>
<table>
<tr><td><p>Levels of abstraction:</p></td></tr>
<tr><td><input type="checkbox" name="levels[]" value="Business" checked>Business
<input type="checkbox" name="levels[]" value="IT-Architecture">IT-Architecture
<input type="checkbox" name="levels[]" value="IT-Execution">IT-Execution</p></td></tr>
</table>
<p><button id="btnCreateProject" type="submit">Create Project</button>
</form>
<script>
function showSerialized() {
var serialized = $("#newProjectForm").serialize();
console.log(serialized);
$.ajax({
  method: "POST",
  url: "../php/newProject.php",
  data: serialized
})
  .done(function( msg ) {
    alert( "Data Saved: " + msg );
    tool.projectBrowser.refreshTree();
    tool.projectBrowser.clearSubmenu();
  });
}
</script>
</div><!-- div newProject -->

</body>
</html>