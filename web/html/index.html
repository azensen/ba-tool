<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vertical Consistency Tool</title>
    <!-- tool styles -->
    <link rel="stylesheet" href="../css/index.css" />
    <!-- bpmn-js styles -->
    <link rel="stylesheet" href="../js/bpmn-js/assets/diagram-js.css" />
    <link rel="stylesheet" href="../js/bpmn-js/assets/bpmn-font/css/bpmn-embedded.css" />
    <!-- jsTree theme-->
    <link rel="stylesheet" href="../js/jsTree/themes/default/style.min.css" />
</head>
<body>
<div id="container">

    <div id="projectBrowser">
        <div id="jsTree"></div>
        <div id="menu">

            <p>
                <button id="btnRefreshTree" onclick="tool.projectBrowser.refreshTree()">Refresh Tree</button>
                <button id="btnNewProject" onclick="tool.projectBrowser.newProjectMenu()" >New Project</button>
                <button id="btnAddProcess" onclick="tool.projectBrowser.addProcessMenu()" disabled>Add Process</button>
                <button id="btnAddModel" onclick="tool.projectBrowser.addModelMenu()" disabled>Add Model</button>
                <button id="btnCloneModel" onclick="tool.projectBrowser.cloneModelMenu()" disabled>Clone Model</button>
                <a id="downloadLink" href="file.doc"><button id="btnDownloadModel" onclick="" disabled>Download Model</button></a>
                <button id="loadModel" onClick="tool.projectBrowser.loadModels()" disabled>Load Model(s)</button>
                <button id="saveModel" onClick="tool.projectBrowser.saveModels()" disabled>Save Model(s)</button>
                <!--
                <button id="showCorrMenu" onClick="$('#correspondenceMenu').show();" disabled>Show Correspondence Menu</button>
                -->


            </p>

        </div>
        <div id="submenu">Browser Submenu</div>
        <div id="correspondenceMenu">
            <h2>Correspondence Menu</h2><br><br>
            <!--
            Associated Model: it_model.bpmn<br><br>
            Type: 1-m<br>
            Source(s): <input type="checkbox" name="source" value="Task1">Task1<br>
            Target(s):
                <input type="checkbox" name="target" value="Task1">Task1
                <input type="checkbox" name="target" value="Task1">Task2<br>
            <p>
                <input type="button" value="Delete Selected">
                <input type="button" value="Delete Correspondence">
                <input type="button" onclick="tester()" value="Console Tester">
            </p>
            -->
            <input id="editMode" type="checkbox">Edit Mode<br>
            <!--
            <input id="keepSelection" type="checkbox" value="keepSelection" name="keepSelection">Keep selection<br>
            <input id="keepHighlights" type="checkbox" value="keepHighlights" name="keepHighlights">Keep highlights<br>
            -->
            <button id="removeHighlights" onClick="tool.viewManager.removeAllHighlights()" >Remove highlights</button>
            <button id="deselectAll" onClick="tool.viewManager.deselectAll()" >Deselect all</button>
            <button id="createCorrespondenceFromSelection" onClick="tool.viewManager.createCorrespondenceFromSelection()" >Turn selection into correspondence</button>
            <button id="deleteSelectedElementFromCorrespondence" onClick="tool.viewManager.deleteSelectedElementFromCorrespondence()" >Delete selected element(s) from correspondence(s)</button>
            <button id="verticalConsistencyCheck" onClick="tool.viewManager.verticalConsistency()" >Vertical Consistency Check</button>
            <button id="makeCorrespondencesConsistent" onClick="tool.makeCorrespondencesConsistent()">Make correspondences consistent</button>
            <button id="highlightUnmatched" onClick="tool.highlighter()">Highlight correspondences</button>
            <button id="displayTableOfMatches" onClick="displayCorrespondenceTableAll()">Display table of matches</button>
            <button id="saveCorrespondences" onClick="tool.saveCorrespondences()">Save correspondences</button>
			<br><br>
			<div id="correspondenceTable" style="overflow:scroll; height:400px;"></div>
        </div>
    </div>

    <div id="views">
        <div id="sourceView">Source View</div>
        <div id="targetView">Target View</div>
    </div>
<script type="text/javascript"></script>
</div>
<script>
    //Quick tester



    //TODO
    function displayTableOfMatches() {
		$('#correspondenceTable').empty();
		$('#correspondenceTable').load("../html/dummyTable.html");
    }

    function displayCorrespondenceTableAll() {
        if(tool.correspondenceManager.correspondenceList != null && tool.correspondenceManager.correspondenceList != undefined) {
            var divId = "correspondenceTable";
            var correspondenceList = tool.correspondenceManager.correspondenceList;
            tool.viewManager.displayCorrespondenceTableAll(divId, correspondenceList);
        } else {
            console.log("Correspondence list not loaded for table of all correspondences.");
        }

    }



</script>

<!-- dependencies jQuery, jsTree, bpmn-modeler -->
<!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script> -->
<script src="../js/jquery/jquery-1.12.4.js"></script>
<script src="../js/jsTree/jstree.min.js"></script>
<script src="../js/bpmn-js/bpmn-modeler.js"></script>

<!-- Tool dependencies -->
<script src="../js/tool/Tool.js"></script>
<script src="../js/tool/ProjectBrowser.js"></script>
<script src="../js/tool/CorrespondenceManager.js"></script>
<script src="../js/tool/ViewManager.js"></script>
<!-- initial load -->
<script src="../js/index.js"></script>
</body>
</html>